# Azure OpenAI Provider Configuration - Financial Analysis Optimized
# Key Advantage: Enterprise security, compliance, and data residency for financial institutions
name: "Azure OpenAI"
provider_type: "azure"
enabled: true

# ============================================
# Connection Configuration
# ============================================
# Azure OpenAI requires enterprise-specific setup:
# - AZURE_OPENAI_API_KEY: From Azure Portal
# - AZURE_OPENAI_ENDPOINT: Your dedicated endpoint (e.g., https://{your-resource}.openai.azure.com/)
# Security: API keys scoped to your subscription, VPC/VNet isolation available
connection:
  api_key_env: "AZURE_OPENAI_API_KEY"
  endpoint_env: "AZURE_OPENAI_ENDPOINT"
  base_url: "AZURE_OPENAI_ENDPOINT"

# ============================================
# API Version Configuration
# ============================================
# Azure uses versioned APIs for stability in production environments
# Supported versions: 2024-10-21 (recommended), 2024-08-01, 2024-06-01
api_version: "2024-10-21"

# ============================================
# Model Configuration
# ============================================
# Note: Azure uses custom "deployment names" that you define in Azure Portal
# These may differ from OpenAI model IDs - update to match your Azure deployments
default_model: "gpt-5-2025-08-07"

# Financial scenario optimized parameters (Enterprise-grade precision)
defaults:
  temperature: 0.1              # Financial analysis requires precision, minimize hallucination (original 0.7 reduced)
  max_tokens: 8192              # Sufficient for detailed financial report generation
  top_p: 0.95

# ============================================
# Available Models
# ============================================
# Configure deployment names to match your Azure OpenAI Service deployments
models:
  # Complex Analysis & Large Portfolios (Recommended) 
  - id: "gpt-5-2025-08-07"
    name: "GPT-5 2025-08-07"
    deployment_name: "gpt-5-2025-08-07"  # Your Azure deployment name
    context_length: 400000        # 400K context for extensive portfolios
    max_output_tokens: 128000
    description: "Most capable GPT-5 model - Enterprise-grade for complex financial analysis, large portfolio optimization, and comprehensive risk modeling with Azure security controls"
    capabilities: [advanced_reasoning, enterprise_security, large_context, complex_analysis]
    recommended_for:
      - institutional_portfolio_analysis    # Large institutional portfolio analysis
      - complex_derivatives_modeling        # Complex derivatives and structured products
      - quantitative_strategy_development   # Quantitative strategy development
      - comprehensive_risk_assessment       # Enterprise-wide risk assessment
      - regulatory_report_generation        # Regulatory compliance reporting
      - sensitive_data_analysis             # Analysis of sensitive financial data (with Azure security)
    supported_inputs: ["text"]
    supported_outputs: ["text"]

  # Cost-Effective & High-Volume 
  - id: "gpt-5-mini-2025-08-07"
    name: "GPT-5 Mini 2025-08-07"
    deployment_name: "gpt-5-mini-2025-08-07"  # Your Azure deployment name
    context_length: 400000
    max_output_tokens: 128000
    description: "Lightweight GPT-5 model - Cost-effective for high-volume financial operations, routine screening, and production-scale monitoring within Azure secure environment"
    capabilities: [cost_effective, enterprise_security, high_volume, efficiency]
    recommended_for:
      - high_volume_screening               # High-volume stock screening
      - routine_monitoring                  # Routine portfolio monitoring
      - production_scale_alerts             # Production-scale alert systems
      - cost_optimized_operations           # Cost-sensitive enterprise operations
      - automated_report_generation         # Automated daily/weekly reports
    supported_inputs: ["text"]
    supported_outputs: ["text"]

# ============================================
# Embedding Models Configuration
# ============================================
# Enterprise-grade embeddings with Azure security controls
embedding:
  default_model: "text-embedding-3-small"    # Default for general financial documents
  
  defaults:
    encoding_format: "float"
    dimensions: 1536                          # Standard dimension for text-embedding-3-small
  
  models:
    - id: "text-embedding-3-small"
      name: "Text Embedding 3 Small"
      deployment_name: "text-embedding-3-small"  # Your Azure deployment name
      dimensions: 1536
      max_input: 8192
      performance_mteb: 62.3
      description: "Cost-effective enterprise embedding for large-scale financial document indexing and vector search within Azure secure boundary"
      capabilities: [cost_effective, enterprise_security, large_scale_indexing]
      recommended_for:
        - enterprise_document_indexing      # Large-scale enterprise document indexing
        - production_rag_systems            # Production RAG systems
        - cost_sensitive_vectorization      # Cost-sensitive vectorization at scale

    - id: "text-embedding-3-large"
      name: "Text Embedding 3 Large"
      deployment_name: "text-embedding-3-large"  # Your Azure deployment name
      dimensions: 3072
      max_input: 8192
      performance_mteb: 64.6
      description: "High-precision enterprise embedding for nuanced financial entity recognition and sensitive semantic search with enhanced accuracy"
      capabilities: [high_precision, enterprise_security, sensitive_data]
      recommended_for:
        - sensitive_entity_extraction       # Extraction from sensitive documents
        - high_accuracy_retrieval           # High-accuracy retrieval systems
        - compliance_critical_search        # Compliance-critical semantic search

# ============================================
# Financial Analysis Presets
# ============================================
# Enterprise-grade configurations for institutional use
financial_analysis_presets:
  institutional_portfolio_review:
    model: "gpt-5-2025-08-07"             # Maximum capability
    temperature: 0.1
    max_tokens: 8192
    system_prompt: "You are an institutional portfolio manager conducting comprehensive analysis. Analyze large diversified portfolios, assess concentration risks, evaluate sector exposures, and provide institutional-grade investment recommendations. Maintain strict confidentiality and accuracy suitable for fiduciary responsibilities."

  regulatory_compliance_reporting:
    model: "gpt-5-2025-08-07"             # High accuracy for compliance
    temperature: 0.05                     # Extremely low for compliance precision
    max_tokens: 128000                    # Large output for comprehensive reports
    system_prompt: "You are a regulatory compliance officer preparing reports for SEC, FINRA, or other regulatory bodies. Ensure all statements are factually accurate, properly sourced, and compliant with regulatory standards. Include appropriate disclaimers and risk disclosures."

  production_monitoring_scale:
    model: "gpt-5-mini-2025-08-07"        # Cost-effective for high volume
    temperature: 0.1
    max_tokens: 4096
    system_prompt: "You are a production monitoring system analyzing real-time financial data at scale. Provide rapid, accurate assessments of portfolio changes, market alerts, and risk triggers. Optimize for speed and reliability in automated workflows."

  sensitive_data_analysis:
    model: "gpt-5-2025-08-07"             # Enterprise security features
    temperature: 0.1
    max_tokens: 8192
    system_prompt: "You are analyzing sensitive financial data within a secure Azure environment. Handle confidential portfolio information, proprietary trading strategies, and non-public financial data with appropriate security awareness. Ensure no data leakage in responses."

# ============================================
# Environment Variable Overrides
# ============================================
# Map environment variable names to config paths for dynamic configuration
env_overrides:
  AZURE_OPENAI_API_VERSION: "api_version"
  AZURE_OPENAI_DEFAULT_MODEL: "default_model"

